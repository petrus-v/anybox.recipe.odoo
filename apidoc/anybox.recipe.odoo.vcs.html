
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>vcs Subpackage &mdash; Odoo buildout recipe 1.9.2.dev0 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.3.4/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/united.anybox.bootswatch.bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/anybox.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.9.2.dev0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Odoo buildout recipe 1.9.2.dev0 documentation" href="../index.html" />
    <link rel="prev" title="runtime Subpackage" href="anybox.recipe.odoo.runtime.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/logo.png">
          Odoo buildout recipe</a>
        <span class="navbar-text navbar-version pull-left"><b>1.9</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../index.html">Home</a></li>
                <li><a href="http://anybox.fr">Anybox</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../first_steps.html">First steps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../first_steps.html#how-to-create-and-bootstrap-a-buildout">How to create and bootstrap a buildout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../first_steps.html#example-openerp-7-0-buildouts">Example OpenERP 7.0 buildouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../first_steps.html#example-openerp-6-1-buildout-with-a-custom-addon">Example OpenERP 6.1 buildout with a custom addon</a></li>
<li class="toctree-l2"><a class="reference internal" href="../first_steps.html#example-openerp-6-0-buildout-server-and-clients">Example OpenERP 6.0 buildout (server and clients)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../first_steps.html#continuously-tested-examples">Continuously tested examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../first_steps.html#other-sample-buildouts">Other sample buildouts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html#the-buildout-configuration-file-and-parts">The buildout configuration file and parts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html#odoo-recipes">Odoo recipes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html#options-for-assembly-and-source-management">Options for assembly and source management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html#odoo-options">Odoo options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html#options-for-executables-generation-and-serving">Options for executables generation and serving</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html#options-for-development-qa-and-introspection">Options for development, QA and introspection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html#options-for-download-and-caching-strategies">Options for download and caching strategies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html#options-for-release-and-packaging">Options for release and packaging</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scripts.html">Odoo Scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../scripts.html#use-cases">Use cases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts.html#declaring-odoo-scripts">Declaring Odoo Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts.html#interactive-consoles">Interactive Consoles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts.html#writing-odoo-scripts">Writing Odoo Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts.html#upgrade-scripts">Upgrade scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts.html#startup-scripts">Startup scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scripts.html#list-of-internal-entry-points">List of internal entry points</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev_prod_workflow.html">Full development to production example</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dev_prod_workflow.html#common-setup">Common setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev_prod_workflow.html#developer-s-setup">Developer&#8217;s setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev_prod_workflow.html#release-and-packaging">Release and packaging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev_prod_workflow.html#deployment-with-a-server-local-configuration-file">Deployment with a server-local configuration file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">For contributors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#source-and-tracking">Source and tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#using-a-development-version">Using a development version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#development-setup">Development setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#building-documentation">Building documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#coding-style">Coding style</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#launching-static-analysis-and-unit-tests">Launching static analysis and unit tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#integration-tests">Integration tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#continuous-integration">Continuous integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../devnotes/index.html">Development notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../devnotes/git-sparse-shallow.html">Git shallow clones and selective branch fetching</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="anybox.recipe.odoo.html">anybox.recipe.odoo Package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="anybox.recipe.odoo.html#id1"><code class="docutils literal"><span class="pre">anybox.recipe.odoo</span></code> Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="anybox.recipe.odoo.html#module-anybox.recipe.odoo.base"><code class="docutils literal"><span class="pre">base</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="anybox.recipe.odoo.html#module-anybox.recipe.odoo.devtools"><code class="docutils literal"><span class="pre">devtools</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="anybox.recipe.odoo.html#module-anybox.recipe.odoo.server"><code class="docutils literal"><span class="pre">server</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="anybox.recipe.odoo.html#module-anybox.recipe.odoo.testing"><code class="docutils literal"><span class="pre">testing</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="anybox.recipe.odoo.html#module-anybox.recipe.odoo.utils"><code class="docutils literal"><span class="pre">utils</span></code> Module</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="anybox.recipe.odoo.html#subpackages">Subpackages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="anybox.recipe.odoo.runtime.html">runtime Subpackage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="anybox.recipe.odoo.runtime.html#module-anybox.recipe.odoo.runtime"><code class="docutils literal"><span class="pre">runtime</span></code> Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="anybox.recipe.odoo.runtime.html#module-anybox.recipe.odoo.runtime.session"><code class="docutils literal"><span class="pre">session</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="anybox.recipe.odoo.runtime.html#module-anybox.recipe.odoo.runtime.upgrade"><code class="docutils literal"><span class="pre">upgrade</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="anybox.recipe.odoo.runtime.html#module-anybox.recipe.odoo.runtime.start_openerp"><code class="docutils literal"><span class="pre">start_openerp</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="anybox.recipe.odoo.runtime.html#module-anybox.recipe.odoo.runtime.test_openerp"><code class="docutils literal"><span class="pre">test_openerp</span></code> Module</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">vcs Subpackage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-anybox.recipe.odoo.vcs"><code class="docutils literal"><span class="pre">vcs</span></code> Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-anybox.recipe.odoo.vcs.base"><code class="docutils literal"><span class="pre">base</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-anybox.recipe.odoo.vcs.bzr"><code class="docutils literal"><span class="pre">bzr</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-anybox.recipe.odoo.vcs.git"><code class="docutils literal"><span class="pre">git</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-anybox.recipe.odoo.vcs.hg"><code class="docutils literal"><span class="pre">hg</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-anybox.recipe.odoo.vcs.svn"><code class="docutils literal"><span class="pre">svn</span></code> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-anybox.recipe.odoo.vcs.testing"><code class="docutils literal"><span class="pre">testing</span></code> Module</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">vcs Subpackage</a><ul>
<li><a class="reference internal" href="#module-anybox.recipe.odoo.vcs"><code class="docutils literal"><span class="pre">vcs</span></code> Package</a></li>
<li><a class="reference internal" href="#module-anybox.recipe.odoo.vcs.base"><code class="docutils literal"><span class="pre">base</span></code> Module</a></li>
<li><a class="reference internal" href="#module-anybox.recipe.odoo.vcs.bzr"><code class="docutils literal"><span class="pre">bzr</span></code> Module</a></li>
<li><a class="reference internal" href="#module-anybox.recipe.odoo.vcs.git"><code class="docutils literal"><span class="pre">git</span></code> Module</a></li>
<li><a class="reference internal" href="#module-anybox.recipe.odoo.vcs.hg"><code class="docutils literal"><span class="pre">hg</span></code> Module</a></li>
<li><a class="reference internal" href="#module-anybox.recipe.odoo.vcs.svn"><code class="docutils literal"><span class="pre">svn</span></code> Module</a></li>
<li><a class="reference internal" href="#module-anybox.recipe.odoo.vcs.testing"><code class="docutils literal"><span class="pre">testing</span></code> Module</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="anybox.recipe.odoo.runtime.html" title="Previous Chapter: runtime Subpackage"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; runtime Subpa...</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/apidoc/anybox.recipe.odoo.vcs.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="vcs-subpackage">
<h1>vcs Subpackage<a class="headerlink" href="#vcs-subpackage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-anybox.recipe.odoo.vcs">
<span id="vcs-package"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">vcs</span></code> Package<a class="headerlink" href="#module-anybox.recipe.odoo.vcs" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="anybox.recipe.odoo.vcs.get_update">
<code class="descclassname">anybox.recipe.odoo.vcs.</code><code class="descname">get_update</code><span class="sig-paren">(</span><em>vcs_type</em>, <em>target_dir</em>, <em>url</em>, <em>revision</em>, <em>**options</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs.html#get_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.get_update" title="Permalink to this definition">¶</a></dt>
<dd><p>General entry point.</p>
</dd></dl>

<dl class="function">
<dt id="anybox.recipe.odoo.vcs.repo">
<code class="descclassname">anybox.recipe.odoo.vcs.</code><code class="descname">repo</code><span class="sig-paren">(</span><em>vcs_type</em>, <em>target_dir</em>, <em>url</em>, <em>**options</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs.html#repo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.repo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-anybox.recipe.odoo.vcs.base">
<span id="base-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">base</span></code> Module<a class="headerlink" href="#module-anybox.recipe.odoo.vcs.base" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="anybox.recipe.odoo.vcs.base.BaseRepo">
<em class="property">class </em><code class="descclassname">anybox.recipe.odoo.vcs.base.</code><code class="descname">BaseRepo</code><span class="sig-paren">(</span><em>target_dir</em>, <em>url</em>, <em>clear_retry=False</em>, <em>offline=False</em>, <em>clear_locks=False</em>, <em>**options</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/base.html#BaseRepo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.BaseRepo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>The common interface that all repository classes implement.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target_dir</strong> &#8211; the local directory which will serve as a working tree</li>
<li><strong>offline</strong> &#8211; if <code class="docutils literal"><span class="pre">True</span></code>, the repository instance will perform no
network operation, and will fail instead if a non
available revision is required.</li>
<li><strong>clear_locks</strong> &#8211; Some VCS systems can leave locks after some failures
and provide a separate way to break them. If <code class="docutils literal"><span class="pre">True</span></code>,
the repo
will break any locks prior to operations (mostly useful
for automated agents, such as CI robots)</li>
<li><strong>clear_retry</strong> &#8211; if <code class="docutils literal"><span class="pre">True</span></code> failed updates by calling the instance are
cleared (see <a class="reference internal" href="#anybox.recipe.odoo.vcs.base.BaseRepo.clear_target" title="anybox.recipe.odoo.vcs.base.BaseRepo.clear_target"><code class="xref py py-meth docutils literal"><span class="pre">clear_target()</span></code></a>) and retried once.
This is intended for brittle VCSes from CI robots.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Other options depend on the concrete repository class.</p>
<p>Repository instances are <strong>callable</strong>. For each of them:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">repo</span><span class="p">(</span><span class="n">rev</span><span class="p">)</span>
</pre></div>
</div>
<p>will take all the steps necessary so that its local directory is a clone of
the remote source, at the specified revision. If needed and possible
The revision format depends on the
concrete class, but it is passed as a <code class="xref py py-class docutils literal"><span class="pre">str</span></code>.</p>
<dl class="method">
<dt id="anybox.recipe.odoo.vcs.base.BaseRepo.archive">
<code class="descname">archive</code><span class="sig-paren">(</span><em>target_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/base.html#BaseRepo.archive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.BaseRepo.archive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.base.BaseRepo.clean">
<code class="descname">clean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/base.html#BaseRepo.clean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.BaseRepo.clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unwanted untracked files.</p>
<p>This default implementation removes Python object files and
(resulting) empty directories.
Subclasses are supposed to implement better vcs-specific behaviours.
It is important for release-related options that this cleaning does not
appear as a local modification.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.base.BaseRepo.clear_target">
<code class="descname">clear_target</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/base.html#BaseRepo.clear_target"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.BaseRepo.clear_target" title="Permalink to this definition">¶</a></dt>
<dd><p>Entirely remove the target directory.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.base.BaseRepo.get_update">
<code class="descname">get_update</code><span class="sig-paren">(</span><em>revision</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/base.html#BaseRepo.get_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.BaseRepo.get_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Make it so that the target directory is at the prescribed revision.</p>
<p>The target directory need not to be initialized: this method will
&#8220;clone&#8221; it from the remote source (whatever that means in the
considered VCS).</p>
<p>This method can fail under various circumstances, for instance if the
wanted revision does not exist locally and offline mode has been
selected.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>CloneError</strong> &#8211; if initial cloning fails</li>
<li><strong>UpdateError</strong> &#8211; if update of existing repository fails</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Must be implemented in concrete subclasses</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.base.BaseRepo.is_local_fixed_revision">
<code class="descname">is_local_fixed_revision</code><span class="sig-paren">(</span><em>revspec</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/base.html#BaseRepo.is_local_fixed_revision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.BaseRepo.is_local_fixed_revision" title="Permalink to this definition">¶</a></dt>
<dd><p>True if revspec is a locally available fixed revision.</p>
<p>The concept of a fixed revision depends on the concrete VCS in use.
It means that retrieving revspec at any point in the future</p>
<ol class="arabic simple">
<li>is guaranteed to work</li>
<li>always yields the same result</li>
</ol>
<p>In practice, for most VCSes, these cannot be totally guaranteed, but
each VCS defines those cases whose breaking is considered to be a
very bad practice.</p>
<p>In Mercurial, removing a commit from a public repository is possible,
but very bad.
In Git, removing a commit from a public repository is normal workflow,
but removing a tag is very bad.</p>
<p>The name stresses that only locally available ones will be recognized
due to the promise that this method does not query any remote repo.</p>
</dd></dl>

<dl class="classmethod">
<dt id="anybox.recipe.odoo.vcs.base.BaseRepo.is_versioned">
<em class="property">classmethod </em><code class="descname">is_versioned</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/base.html#BaseRepo.is_versioned"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.BaseRepo.is_versioned" title="Permalink to this definition">¶</a></dt>
<dd><p>True if path exists and is versioned under this vcs.</p>
<p>Common implementation based on vcs_control_dir class attribute.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.base.BaseRepo.parents">
<code class="descname">parents</code><span class="sig-paren">(</span><em>pip_compatible=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/base.html#BaseRepo.parents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.BaseRepo.parents" title="Permalink to this definition">¶</a></dt>
<dd><p>Return universal identifier for parent nodes, aka current revisions.</p>
<p>There might be more than one with some VCSes (ex: pending merge in hg).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pip_compatible</strong> &#8211; if <code class="docutils literal"><span class="pre">True</span></code>, only <a class="reference external" href="http://pip.readthedocs.org/en/latest/reference/pip_install.html#vcs-support">pip compatible</a>
revision specifications are returned, depending
on the VCS type.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.base.BaseRepo.revert">
<code class="descname">revert</code><span class="sig-paren">(</span><em>revision</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/base.html#BaseRepo.revert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.BaseRepo.revert" title="Permalink to this definition">¶</a></dt>
<dd><p>Revert any local changes, including pending merges.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.base.BaseRepo.uncommitted_changes">
<code class="descname">uncommitted_changes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/base.html#BaseRepo.uncommitted_changes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.BaseRepo.uncommitted_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>True if we have uncommitted changes.</p>
<p>Must be implemented by concrete subclasses</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="anybox.recipe.odoo.vcs.base.CloneError">
<em class="property">exception </em><code class="descclassname">anybox.recipe.odoo.vcs.base.</code><code class="descname">CloneError</code><span class="sig-paren">(</span><em>returncode</em>, <em>cmd</em>, <em>output=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/base.html#CloneError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.CloneError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">subprocess.CalledProcessError</span></code></p>
<p>Class to easily signal errors in initial cloning.</p>
</dd></dl>

<dl class="exception">
<dt id="anybox.recipe.odoo.vcs.base.UpdateError">
<em class="property">exception </em><code class="descclassname">anybox.recipe.odoo.vcs.base.</code><code class="descname">UpdateError</code><span class="sig-paren">(</span><em>returncode</em>, <em>cmd</em>, <em>output=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/base.html#UpdateError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.UpdateError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">subprocess.CalledProcessError</span></code></p>
<p>Specific class for errors occurring during updates of existing repos.</p>
</dd></dl>

<dl class="function">
<dt id="anybox.recipe.odoo.vcs.base.clone_check_call">
<code class="descclassname">anybox.recipe.odoo.vcs.base.</code><code class="descname">clone_check_call</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.clone_check_call" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="anybox.recipe.odoo.vcs.base.clone_check_output">
<code class="descclassname">anybox.recipe.odoo.vcs.base.</code><code class="descname">clone_check_output</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.clone_check_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="anybox.recipe.odoo.vcs.base.update_check_call">
<code class="descclassname">anybox.recipe.odoo.vcs.base.</code><code class="descname">update_check_call</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.update_check_call" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="anybox.recipe.odoo.vcs.base.update_check_output">
<code class="descclassname">anybox.recipe.odoo.vcs.base.</code><code class="descname">update_check_output</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.update_check_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="anybox.recipe.odoo.vcs.base.wrap_check_call">
<code class="descclassname">anybox.recipe.odoo.vcs.base.</code><code class="descname">wrap_check_call</code><span class="sig-paren">(</span><em>exc_cls</em>, <em>call_fn</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/base.html#wrap_check_call"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.base.wrap_check_call" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-anybox.recipe.odoo.vcs.bzr">
<span id="bzr-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">bzr</span></code> Module<a class="headerlink" href="#module-anybox.recipe.odoo.vcs.bzr" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch">
<em class="property">class </em><code class="descclassname">anybox.recipe.odoo.vcs.bzr.</code><code class="descname">BzrBranch</code><span class="sig-paren">(</span><em>*a</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#anybox.recipe.odoo.vcs.base.BaseRepo" title="anybox.recipe.odoo.vcs.base.BaseRepo"><code class="xref py py-class docutils literal"><span class="pre">anybox.recipe.odoo.vcs.base.BaseRepo</span></code></a></p>
<p>Represent a Bazaar branch tied to a reference branch.</p>
<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.archive">
<code class="descname">archive</code><span class="sig-paren">(</span><em>target_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.archive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.archive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.clean">
<code class="descname">clean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.clean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.clean" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.conf_file_path">
<code class="descname">conf_file_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.conf_file_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.conf_file_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.get_revid">
<code class="descname">get_revid</code><span class="sig-paren">(</span><em>revision</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.get_revid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.get_revid" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a locally available revision to a revid.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>revision</strong> (<em>str</em>) &#8211; any valid revision string.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-class docutils literal"><span class="pre">LookupError</span></code> if not actually available.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.get_update">
<code class="descname">get_update</code><span class="sig-paren">(</span><em>revision</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.get_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.get_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that target_dir is a branch of url at specified revision.</p>
<p>If target_dir already exists, does a simple pull.
Offline-mode: no branch nor pull, but update.
In all cases, an attempt to update is performed before any pull</p>
<p>Special case: if the &#8216;merge&#8217; option is True,
merge revision into current branch.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.is_fixed_revision">
<code class="descname">is_fixed_revision</code><span class="sig-paren">(</span><em>revstr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.is_fixed_revision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.is_fixed_revision" title="Permalink to this definition">¶</a></dt>
<dd><p>True iff the given revision string is for a fixed revision.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.is_local_fixed_revision">
<code class="descname">is_local_fixed_revision</code><span class="sig-paren">(</span><em>revstr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.is_local_fixed_revision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.is_local_fixed_revision" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.is_revno">
<code class="descname">is_revno</code><span class="sig-paren">(</span><em>revspec</em>, <em>fixed=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.is_revno"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.is_revno" title="Permalink to this definition">¶</a></dt>
<dd><p>True iff revspec is a fixed revision number.</p>
<p>Valid revision numbers are integers separated by dots.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fixed</strong> &#8211; if <code class="docutils literal"><span class="pre">True</span></code>, it is further checked that integers
are positive.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.parents">
<code class="descname">parents</code><span class="sig-paren">(</span><em>as_revno=False</em>, <em>pip_compatible=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.parents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.parents" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current revision.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>as_revno</strong> &#8211; if <code class="docutils literal"><span class="pre">True</span></code>, the revno will be returned. By default,
a full revision id is issued (see <a class="reference internal" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.revision_id" title="anybox.recipe.odoo.vcs.bzr.BzrBranch.revision_id"><code class="xref py py-meth docutils literal"><span class="pre">revision_id()</span></code></a>)</li>
<li><strong>pip_compatible</strong> &#8211; currently, setting this to <code class="docutils literal"><span class="pre">True</span></code> forces
<code class="docutils literal"><span class="pre">as_revno</span></code> to <code class="docutils literal"><span class="pre">True</span></code> (pip URL syntax for bzr
does not allow revids, because of the <code class="docutils literal"><span class="pre">&#64;</span></code> in
bzr revids)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This method will not detect pending merges, but
<a class="reference internal" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.uncommitted_changes" title="anybox.recipe.odoo.vcs.bzr.BzrBranch.uncommitted_changes"><code class="xref py py-meth docutils literal"><span class="pre">uncommitted_changes()</span></code></a> will, and that is enough for freeze/extract
features.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.parse_conf">
<code class="descname">parse_conf</code><span class="sig-paren">(</span><em>from_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.parse_conf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.parse_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dict of paths from standard conf (or the given file-like)</p>
<p>Reference: <a class="reference external" href="http://doc.bazaar.canonical.com/bzr.0.18/configuration.htm">http://doc.bazaar.canonical.com/bzr.0.18/configuration.htm</a></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">branch</span> <span class="o">=</span> <span class="n">BzrBranch</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">branch</span><span class="o">.</span><span class="n">parse_conf</span><span class="p">(</span><span class="n">StringIO</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
<span class="gp">... </span>       <span class="s">&quot;parent_location = /some/path&quot;</span><span class="p">,</span>
<span class="gp">... </span>       <span class="s">&quot;submit_location = /other/path&quot;</span><span class="p">]))))</span>
<span class="go">{&#39;parent_location&#39;: &#39;/some/path&#39;, &#39;submit_location&#39;: &#39;/other/path&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.revert">
<code class="descname">revert</code><span class="sig-paren">(</span><em>revision</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.revert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.revert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.revision_id">
<code class="descname">revision_id</code><span class="sig-paren">(</span><em>revspec</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.revision_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.revision_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert revision number (revno) to globally unique revision id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>revspec</strong> (<em>str</em>) &#8211; any revision specification</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns str:</th><td class="field-body">revision id specification (directly usable as -r
argument)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.rollback_conf">
<code class="descname">rollback_conf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.rollback_conf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.rollback_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset branch.conf to state before latest update_conf changes.</p>
<p>Only changes done through the same instance are taken into account.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.uncommitted_changes">
<code class="descname">uncommitted_changes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.uncommitted_changes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.uncommitted_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>True if we have uncommitted changes.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.update_conf">
<code class="descname">update_conf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.update_conf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.update_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Update branch.conf.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return bool:</th><td class="field-body"><code class="docutils literal"><span class="pre">True</span></code> if parent URL has changed (see lp:1320198)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.vcs_control_dir">
<code class="descname">vcs_control_dir</code><em class="property"> = '.bzr'</em><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.vcs_control_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.vcs_official_name">
<code class="descname">vcs_official_name</code><em class="property"> = 'Bazaar'</em><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.vcs_official_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.bzr.BzrBranch.write_conf">
<code class="descname">write_conf</code><span class="sig-paren">(</span><em>conf</em>, <em>to_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/bzr.html#BzrBranch.write_conf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.bzr.BzrBranch.write_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Write counterpart to <code class="xref py py-meth docutils literal"><span class="pre">read_conf()</span></code></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-anybox.recipe.odoo.vcs.git">
<span id="git-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">git</span></code> Module<a class="headerlink" href="#module-anybox.recipe.odoo.vcs.git" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo">
<em class="property">class </em><code class="descclassname">anybox.recipe.odoo.vcs.git.</code><code class="descname">GitRepo</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#anybox.recipe.odoo.vcs.base.BaseRepo" title="anybox.recipe.odoo.vcs.base.BaseRepo"><code class="xref py py-class docutils literal"><span class="pre">anybox.recipe.odoo.vcs.base.BaseRepo</span></code></a></p>
<p>Represent a Git clone tied to a reference branch/commit/tag.</p>
<dl class="method">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.archive">
<code class="descname">archive</code><span class="sig-paren">(</span><em>target_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.archive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.archive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.clean">
<code class="descname">clean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.clean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.clean" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.dangerous_revisions">
<code class="descname">dangerous_revisions</code><em class="property"> = ('FETCH_HEAD', 'ORIG_HEAD', 'MERGE_HEAD', 'CHERRY_PICK_HEAD', 'REVERT_HEAD')</em><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.dangerous_revisions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.fetch_remote_sha">
<code class="descname">fetch_remote_sha</code><span class="sig-paren">(</span><em>sha</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.fetch_remote_sha"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.fetch_remote_sha" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a precise SHA from remote if necessary.</p>
<p>SHA pinning is suboptimal, can&#8217;t be guaranteed to work (see the
warnings emitted in code for explanations). Still, many users
people depend on it, for not having enough privileges to add tags.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.get_current_remote_fetch">
<code class="descname">get_current_remote_fetch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.get_current_remote_fetch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.get_current_remote_fetch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.get_update">
<code class="descname">get_update</code><span class="sig-paren">(</span><em>revision</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.get_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.get_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Make it so that the target directory is at the prescribed revision.</p>
<p>Special case: if the &#8216;merge&#8217; option is True,
merge revision into current branch.</p>
</dd></dl>

<dl class="attribute">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.git_version">
<code class="descname">git_version</code><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.git_version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.has_commit">
<code class="descname">has_commit</code><span class="sig-paren">(</span><em>sha</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.has_commit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.has_commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if repo has specified commit</p>
</dd></dl>

<dl class="classmethod">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.init_git_version">
<em class="property">classmethod </em><code class="descname">init_git_version</code><span class="sig-paren">(</span><em>v_str</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.init_git_version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.init_git_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse git version string and store the resulting tuple on self.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the parsed version tuple</td>
</tr>
</tbody>
</table>
<p>Only the first 3 digits are kept. This is good enough for the few
version dependent cases we need, and coarse enough to avoid
more complicated parsing.</p>
<p>Some real-life examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">GitRepo</span><span class="o">.</span><span class="n">init_git_version</span><span class="p">(</span><span class="s">&#39;git version 1.8.5.3&#39;</span><span class="p">)</span>
<span class="go">(1, 8, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">GitRepo</span><span class="o">.</span><span class="n">init_git_version</span><span class="p">(</span><span class="s">&#39;git version 1.7.2.5&#39;</span><span class="p">)</span>
<span class="go">(1, 7, 2)</span>
</pre></div>
</div>
<p>Seen on MacOSX (not on MacPorts):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">GitRepo</span><span class="o">.</span><span class="n">init_git_version</span><span class="p">(</span><span class="s">&#39;git version 1.8.5.2 (Apple Git-48)&#39;</span><span class="p">)</span>
<span class="go">(1, 8, 5)</span>
</pre></div>
</div>
<p>Seen on Windows (Tortoise Git):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">GitRepo</span><span class="o">.</span><span class="n">init_git_version</span><span class="p">(</span><span class="s">&#39;git version 1.8.4.msysgit.0&#39;</span><span class="p">)</span>
<span class="go">(1, 8, 4)</span>
</pre></div>
</div>
<p>A compiled version:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">GitRepo</span><span class="o">.</span><span class="n">init_git_version</span><span class="p">(</span><span class="s">&#39;git version 2.0.3.2.g996b0fd&#39;</span><span class="p">)</span>
<span class="go">(2, 0, 3)</span>
</pre></div>
</div>
<p>Rewrapped by <a class="reference external" href="https://hub.github.com/">hub</a>, it has two lines:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">GitRepo</span><span class="o">.</span><span class="n">init_git_version</span><span class="p">(</span><span class="s">&#39;git version 1.7.9</span><span class="se">\n</span><span class="s">hub version 1.11.0&#39;</span><span class="p">)</span>
<span class="go">(1, 7, 9)</span>
</pre></div>
</div>
<p>This one does not exist, allowing us to prove that this method
actually governs the <a class="reference internal" href="#anybox.recipe.odoo.vcs.git.GitRepo.git_version" title="anybox.recipe.odoo.vcs.git.GitRepo.git_version"><code class="xref py py-attr docutils literal"><span class="pre">git_version</span></code></a> property</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">GitRepo</span><span class="o">.</span><span class="n">init_git_version</span><span class="p">(</span><span class="s">&#39;git version 0.0.666&#39;</span><span class="p">)</span>
<span class="go">(0, 0, 666)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">GitRepo</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">git_version</span>
<span class="go">(0, 0, 666)</span>
</pre></div>
</div>
<p>Expected exceptions:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span> <span class="n">GitRepo</span><span class="o">.</span><span class="n">init_git_version</span><span class="p">(</span><span class="s">&#39;invalid&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span> <span class="k">pass</span>
</pre></div>
</div>
<p>After playing with it, we must reset it so that tests can run with
the proper detected one, if needed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">GitRepo</span><span class="o">.</span><span class="n">init_git_version</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.is_local_fixed_revision">
<code class="descname">is_local_fixed_revision</code><span class="sig-paren">(</span><em>refspec</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.is_local_fixed_revision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.is_local_fixed_revision" title="Permalink to this definition">¶</a></dt>
<dd><p>In Git, tags only are reproductible refspec.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.log_call">
<code class="descname">log_call</code><span class="sig-paren">(</span><em>cmd</em>, <em>callwith=&lt;function check_call&gt;</em>, <em>log_level=20</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.log_call"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.log_call" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap a subprocess call with logging</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>meth</strong> &#8211; the calling method to use.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>revision</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.merge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge revision into current branch</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.offline_update">
<code class="descname">offline_update</code><span class="sig-paren">(</span><em>revision</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.offline_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.offline_update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.parents">
<code class="descname">parents</code><span class="sig-paren">(</span><em>pip_compatible=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.parents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.parents" title="Permalink to this definition">¶</a></dt>
<dd><p>Return full hash of parent nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pip_compatible</strong> &#8211; ignored, all Git revspecs are pip compatible</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.query_remote_ref">
<code class="descname">query_remote_ref</code><span class="sig-paren">(</span><em>remote</em>, <em>ref</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.query_remote_ref"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.query_remote_ref" title="Permalink to this definition">¶</a></dt>
<dd><p>Query remote repo about given ref.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">('tag',</span> <span class="pre">sha)</span></code> if ref is a tag in remote
<code class="docutils literal"><span class="pre">('branch',</span> <span class="pre">sha)</span></code> if ref is branch (aka &#8220;head&#8221;) in remote
<code class="docutils literal"><span class="pre">(None,</span> <span class="pre">ref)</span></code> if ref does not exist in remote. This happens
notably if ref if a commit sha (they can&#8217;t be queried)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.revert">
<code class="descname">revert</code><span class="sig-paren">(</span><em>revision</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.revert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.revert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.uncommitted_changes">
<code class="descname">uncommitted_changes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.uncommitted_changes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.uncommitted_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>True if we have uncommitted changes.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.update_fetched_branch">
<code class="descname">update_fetched_branch</code><span class="sig-paren">(</span><em>branch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#GitRepo.update_fetched_branch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.update_fetched_branch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.vcs_control_dir">
<code class="descname">vcs_control_dir</code><em class="property"> = '.git'</em><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.vcs_control_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="anybox.recipe.odoo.vcs.git.GitRepo.vcs_official_name">
<code class="descname">vcs_official_name</code><em class="property"> = 'Git'</em><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.GitRepo.vcs_official_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="anybox.recipe.odoo.vcs.git.ishex">
<code class="descclassname">anybox.recipe.odoo.vcs.git.</code><code class="descname">ishex</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/git.html#ishex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.git.ishex" title="Permalink to this definition">¶</a></dt>
<dd><p>True iff given string is a valid hexadecimal number.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ishex</span><span class="p">(</span><span class="s">&#39;deadbeef&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ishex</span><span class="p">(</span><span class="s">&#39;01bn78&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-anybox.recipe.odoo.vcs.hg">
<span id="hg-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">hg</span></code> Module<a class="headerlink" href="#module-anybox.recipe.odoo.vcs.hg" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="anybox.recipe.odoo.vcs.hg.HgRepo">
<em class="property">class </em><code class="descclassname">anybox.recipe.odoo.vcs.hg.</code><code class="descname">HgRepo</code><span class="sig-paren">(</span><em>target_dir</em>, <em>url</em>, <em>clear_retry=False</em>, <em>offline=False</em>, <em>clear_locks=False</em>, <em>**options</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/hg.html#HgRepo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.hg.HgRepo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#anybox.recipe.odoo.vcs.base.BaseRepo" title="anybox.recipe.odoo.vcs.base.BaseRepo"><code class="xref py py-class docutils literal"><span class="pre">anybox.recipe.odoo.vcs.base.BaseRepo</span></code></a></p>
<dl class="method">
<dt id="anybox.recipe.odoo.vcs.hg.HgRepo.archive">
<code class="descname">archive</code><span class="sig-paren">(</span><em>target_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/hg.html#HgRepo.archive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.hg.HgRepo.archive" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.hg.HgRepo.clean">
<code class="descname">clean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/hg.html#HgRepo.clean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.hg.HgRepo.clean" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.hg.HgRepo.get_update">
<code class="descname">get_update</code><span class="sig-paren">(</span><em>revision</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/hg.html#HgRepo.get_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.hg.HgRepo.get_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that target_dir is a clone of url at specified revision.</p>
<p>If target_dir already exists, does a simple pull.
Offline-mode: no clone nor pull, but update.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.hg.HgRepo.have_fixed_revision">
<code class="descname">have_fixed_revision</code><span class="sig-paren">(</span><em>revstr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/hg.html#HgRepo.have_fixed_revision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.hg.HgRepo.have_fixed_revision" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.hg.HgRepo.is_local_fixed_revision">
<code class="descname">is_local_fixed_revision</code><span class="sig-paren">(</span><em>revstr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/hg.html#HgRepo.is_local_fixed_revision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.hg.HgRepo.is_local_fixed_revision" title="Permalink to this definition">¶</a></dt>
<dd><p>True if revstr is a fixed revision that we already have.</p>
<p>Check is done for known tags (except tip) and known nodes identified
by a long enough (12 char) prefix of their hexadecimal hash.</p>
<p>Summary of collision cases for hg up:</p>
<ul class="simple">
<li>a revision number has precedence over a tag identically named</li>
<li>a tag that is a strict prefix of a full hexadecimal node hash wins
over that node.</li>
<li>a full hexadecimal node hash wins over a tag that would be
identically named (someone would need to be really disturbed to do
that in real life).</li>
<li>a hexadecimal node that coincides with a decimal revision number is
not something I can test :-)</li>
</ul>
<p>In theory, a 12 char hexadecimal node hash could be shadowed by an
incoming tag. But also, any tag could be overridden. These are
considered to be fixed anyway for convenience in sensible use-cases.</p>
<p>People having CI robots involving tags that do get overridden by a
third party upstream should complain to upstream for utterly bad
practices.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.hg.HgRepo.parents">
<code class="descname">parents</code><span class="sig-paren">(</span><em>pip_compatible=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/hg.html#HgRepo.parents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.hg.HgRepo.parents" title="Permalink to this definition">¶</a></dt>
<dd><p>Return full hash of parent nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pip_compatible</strong> &#8211; ignored, all Hg revspecs are pip compatible</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.hg.HgRepo.uncommitted_changes">
<code class="descname">uncommitted_changes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/hg.html#HgRepo.uncommitted_changes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.hg.HgRepo.uncommitted_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>True if we have uncommitted changes.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.hg.HgRepo.update_hgrc_paths">
<code class="descname">update_hgrc_paths</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/hg.html#HgRepo.update_hgrc_paths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.hg.HgRepo.update_hgrc_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Update hgrc paths section if needed.</p>
<p>Old paths are kept in renamed form: buildout_save_%d.</p>
</dd></dl>

<dl class="attribute">
<dt id="anybox.recipe.odoo.vcs.hg.HgRepo.vcs_control_dir">
<code class="descname">vcs_control_dir</code><em class="property"> = '.hg'</em><a class="headerlink" href="#anybox.recipe.odoo.vcs.hg.HgRepo.vcs_control_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="anybox.recipe.odoo.vcs.hg.HgRepo.vcs_official_name">
<code class="descname">vcs_official_name</code><em class="property"> = 'Mercurial'</em><a class="headerlink" href="#anybox.recipe.odoo.vcs.hg.HgRepo.vcs_official_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-anybox.recipe.odoo.vcs.svn">
<span id="svn-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">svn</span></code> Module<a class="headerlink" href="#module-anybox.recipe.odoo.vcs.svn" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="anybox.recipe.odoo.vcs.svn.SvnCheckout">
<em class="property">class </em><code class="descclassname">anybox.recipe.odoo.vcs.svn.</code><code class="descname">SvnCheckout</code><span class="sig-paren">(</span><em>target_dir</em>, <em>url</em>, <em>clear_retry=False</em>, <em>offline=False</em>, <em>clear_locks=False</em>, <em>**options</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/svn.html#SvnCheckout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.svn.SvnCheckout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#anybox.recipe.odoo.vcs.base.BaseRepo" title="anybox.recipe.odoo.vcs.base.BaseRepo"><code class="xref py py-class docutils literal"><span class="pre">anybox.recipe.odoo.vcs.base.BaseRepo</span></code></a></p>
<dl class="method">
<dt id="anybox.recipe.odoo.vcs.svn.SvnCheckout.get_update">
<code class="descname">get_update</code><span class="sig-paren">(</span><em>revision</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/svn.html#SvnCheckout.get_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.svn.SvnCheckout.get_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that target_dir is a branch of url at specified revision.</p>
<p>If target_dir already exists, does a simple pull.
Offline-mode: no branch nor pull, but update.</p>
</dd></dl>

<dl class="attribute">
<dt id="anybox.recipe.odoo.vcs.svn.SvnCheckout.vcs_control_dir">
<code class="descname">vcs_control_dir</code><em class="property"> = '.svn'</em><a class="headerlink" href="#anybox.recipe.odoo.vcs.svn.SvnCheckout.vcs_control_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="anybox.recipe.odoo.vcs.svn.SvnCheckout.vcs_official_name">
<code class="descname">vcs_official_name</code><em class="property"> = 'Subversion'</em><a class="headerlink" href="#anybox.recipe.odoo.vcs.svn.SvnCheckout.vcs_official_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-anybox.recipe.odoo.vcs.testing">
<span id="testing-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">testing</span></code> Module<a class="headerlink" href="#module-anybox.recipe.odoo.vcs.testing" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="anybox.recipe.odoo.vcs.testing.VcsTestCase">
<em class="property">class </em><code class="descclassname">anybox.recipe.odoo.vcs.testing.</code><code class="descname">VcsTestCase</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/testing.html#VcsTestCase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.testing.VcsTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">unittest.case.TestCase</span></code></p>
<p>Common fixture</p>
<dl class="method">
<dt id="anybox.recipe.odoo.vcs.testing.VcsTestCase.create_src">
<code class="descname">create_src</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/testing.html#VcsTestCase.create_src"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.testing.VcsTestCase.create_src" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a source repository to run most tests.</p>
<p>To be implemented in subclasses.</p>
</dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.testing.VcsTestCase.setUp">
<code class="descname">setUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/testing.html#VcsTestCase.setUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.testing.VcsTestCase.setUp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="anybox.recipe.odoo.vcs.testing.VcsTestCase.tearDown">
<code class="descname">tearDown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/anybox/recipe/odoo/vcs/testing.html#VcsTestCase.tearDown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#anybox.recipe.odoo.vcs.testing.VcsTestCase.tearDown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2011-2015, &lt;a href=&#34;http://anybox.fr/&#34;&gt;Anybox SAS&lt;/a&gt; and contributors.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>